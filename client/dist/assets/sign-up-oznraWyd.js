import{a as j,u as N,r as s,j as e,L as v,b as S}from"./index-O4iqtcr5.js";import{a as E}from"./Auth-oRHAnmD1.js";import"./axios-TBUHlTnk.js";function C(){const{setUser:x}=j(),g=N(),[o,b]=s.useState(""),[i,d]=s.useState(""),[t,m]=s.useState(""),[l,c]=s.useState(""),[u,n]=s.useState(""),p=l===""||t==="",h=async a=>{a.preventDefault();try{const r=await E({username:o,emailAddress:t,password:l,fullName:i});if(r.status===200&&!r.data.error){const{token:y,_id:f,userData:w}=r.data;localStorage.setItem("authToken",y),localStorage.setItem("userId",f),x(w),g("/"),window.location.reload()}else r.data.error?n(`${r.data.error} `+t):n("Couldn't sign up with email address: "+t)}catch(r){d(""),console.error("Error during signup:",r),m(""),c(""),n(r.message)}};return s.useEffect(()=>{document.title="Sign Up - Instagram"},[]),e.jsxs("div",{className:"container flex mx-auto max-w-screen-md items-center h-screen",children:[e.jsx("div",{className:"flex w-3/5",children:e.jsx("img",{src:"/images/iphone-with-profile.png",alt:"iPhone with Instagram app"})}),e.jsxs("div",{className:"flex flex-col w-2/5",children:[e.jsxs("div",{className:"flex flex-col items-center bg-white p-4 border border-gray-primary mb-4 rounded",children:[e.jsx("h1",{className:"flex justify-center w-full",children:e.jsx("img",{src:"/images/logo.png",alt:"Instagram",className:"mt-2 w-6/12 mb-4"})}),u&&e.jsx("p",{className:"mb-4 text-xs text-red-primary",children:u}),e.jsxs("form",{onSubmit:h,method:"POST",children:[e.jsx("input",{"aria-label":"Enter your username",type:"text",placeholder:"Username",className:"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2",onChange:({target:a})=>b(a.value),value:o}),e.jsx("input",{"aria-label":"Enter your full name",type:"text",placeholder:"Full name",className:"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2",onChange:({target:a})=>d(a.value),value:i}),e.jsx("input",{"aria-label":"Enter your email address",type:"text",placeholder:"Email address",className:"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2",onChange:({target:a})=>m(a.value),value:t}),e.jsx("input",{"aria-label":"Enter your password",type:"password",placeholder:"Password",className:"text-sm text-gray-base w-full mr-3 py-5 px-4 h-2 border border-gray-primary rounded mb-2",onChange:({target:a})=>c(a.value),value:l}),e.jsx("button",{disabled:p,type:"submit",className:`bg-blue-600 text-white w-full rounded h-10 font-semibold tracking-wider p
            ${p&&"opacity-70"}`,children:"Sign Up"})]})]}),e.jsx("div",{className:"flex justify-center items-center flex-col w-full bg-white p-4 rounded border border-gray-primary",children:e.jsxs("p",{className:"text-sm",children:["Have an account?"," ",e.jsx(v,{to:S,className:"font-bold text-black",children:"Login"})]})})]})]})}export{C as default};
